<div
	class="d-flex flex-column align-items-center justify-content-center h-100"
	style="background-color: #41a8ec"
>
	<div class="p-5 rounded-3" style="background-color: #fff">
		<h1 class="text-center">Sign Up</h1>
		<p class="text-center">
			Please fill in the fields to complete the registration.
		</p>
		<form
			[formGroup]="form"
			(ngSubmit)="submit($event)"
			class="d-flex flex-column align-items-center bg-light-subtle"
		>
			<div class="row d-flex justify-content-center">
				<div class="col d-flex flex-column align-items-center">
					<mat-form-field class="w-100">
						<input
							matInput
							placeholder="Name"
							formControlName="name"
						/>
					</mat-form-field>

					<mat-form-field class="w-100">
						<input
							matInput
							placeholder="E-mail"
							formControlName="email"
						/>
						<mat-error
							*ngIf="form.controls['email'].hasError('required')"
							>E-mail is required</mat-error
						>
						<mat-error
							*ngIf="form.controls['email'].hasError('email')"
							>E-mail is invalid</mat-error
						>
					</mat-form-field>

					<mat-form-field class="w-100">
						<input
							matInput
							type="password"
							placeholder="Password"
							formControlName="password"
						/>
					</mat-form-field>

					<mat-form-field class="w-100">
						<input
							matInput
							placeholder="Birth Date"
							formControlName="birthDate"
							[matDatepicker]="picker"
						/>
						<mat-datepicker-toggle
							matSuffix
							[for]="picker"
						></mat-datepicker-toggle>
						<mat-datepicker #picker></mat-datepicker>
					</mat-form-field>
				</div>

				<div class="col d-flex flex-column align-items-center">
					<mat-form-field class="w-100">
						<input
							matInput
							placeholder="CEP"
							formControlName="cep"
							type="text"
							[textMask]="{ mask: cepMask }"
						/>

						<button
							mat-button
							matSuffix
							class="btn btn-secondary m-2"
							[disabled]="form.get('cep')?.invalid"
							(click)="searchCep($event)"
						>
							Buscar
						</button>
					</mat-form-field>
					<mat-form-field class="w-100">
						<input
							matInput
							placeholder="Address"
							formControlName="address"
						/>
					</mat-form-field>

					<mat-form-field class="w-100">
						<input
							matInput
							placeholder="City"
							formControlName="city"
						/>
					</mat-form-field>

					<mat-form-field class="w-100">
						<input
							matInput
							placeholder="State"
							formControlName="state"
						/>
					</mat-form-field>
				</div>
			</div>
			<button
				mat-raised-button
				color="primary"
				*ngIf="!loading"
				(click)="submit($event)"
				class="btn btn-primary w-50"
				[disabled]="form.invalid"
			>
				Register
			</button>
			<span
				*ngIf="loading"
				class="w-50 btn btn-primary d-flex justify-content-center align-items-center"
			>
				<div class="spinner-border"></div
			></span>
		</form>
	</div>
</div>
